<!DOCTYPE html>

	
<html>
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>Electoral Map</title>
<link rel="icon" type="image/png" href="../img/fav.png">
<meta name="description" content=""/>



  <link href="vendor/fontawesome-free/css/all.min.css" rel="stylesheet" type="text/css">
  <link href="https://fonts.googleapis.com/css?family=Nunito:200,200i,300,300i,400,400i,600,600i,700,700i,800,800i,900,900i" rel="stylesheet">

  <!-- Custom styles for this template-->
  <link href="css/map.css" rel="stylesheet">
  <link href="css/slider.css" rel="stylesheet">
  <link href="css/tabulator.min.css" rel="stylesheet">
  
      <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js" integrity="sha384-UO2eT0CpHqdSJQ6hJty5KVphtPhzWj9WO1clHTMGa3JDZwrnQq4sF86dIHNDz0W1" crossorigin="anonymous"></script>
	
<style>
.gridHolder {
	height: 95vh;
	overflow-y:auto;
}
</style>

</head>
<body>

	<div>
		Locations:
		<select id="locations">
			<option val="dc">States+DC</option>
			<option val="mene">States+DC/ME/NE</option>
			<option val="50">50 States</option>
		</select>
		<button onclick="updateData()">Submit</button>
	</div>
	<div class="gridHolder" id="csvTable">

	</div>

  



</body>
<script src="js/tabulator.min.js"></script>
<script>
var tableData = {{tableData | dump | safe}};

var table = new Tabulator("#csvTable", {
    data:tableData,
    columns: {{ columns | dump | safe}},
});


var ws = new WebSocket('wss://inlinemath.com:8080');
ws.onopen = function(evt) {
	
}
ws.onmessage = function(evt){
	console.log(evt.data);
}

function updateData() {
	var locations = document.getElementById("locations").value;
	var jsonmessage = {'type':'update','locations':locations};
	ws.send(JSON.stringify(jsonmessage));
}
</script>


</html>





