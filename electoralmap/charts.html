<!DOCTYPE html>

	
<html>
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>Demographics</title>
<link rel="icon" href="http://localhost:1313/">
<meta name="description" content="Complete a sudoku puzzle without Javascript or server-side interaction."/>

<style>

@font-face {
     font-family: 'StateFaceRegular';
     src: url('font/webfont/stateface-regular-webfont.eot');
     src: url('font/webfont/stateface-regular-webfont.eot?#iefix') format('embedded-opentype'),
          url('font/webfont/stateface-regular-webfont.woff') format('woff'),
          url('font/webfont/stateface-regular-webfont.ttf') format('truetype'),
          url('font/webfont/stateface-regular-webfont.svg#StateFaceRegular') format('svg');
     font-weight: normal;
     font-style: normal;
 }
 
 .stateface:before {
    font-family: StateFaceRegular;
    margin: 0px;
    font-size: 18px;
    
}

.stateface-replace {

    display: inline-block;
    position: relative;
    min-width: 18px;
}

.stateface-replace:before {
    position: absolute;
    left: 0;
    top: 0;
    text-indent: 0;
}

.stateface-ak:before {
    content: "A";
}

.stateface-al:before {
    content: "B";
}

.stateface-ar:before {
    content: "C";
}

.stateface-az:before {
    content: "D";
}

.stateface-ca:before {
    content: "E";
}

.stateface-co:before {
    content: "F";
}

.stateface-ct:before {
    content: "G";
}

.stateface-dc:before {
    content: "y";
}

.stateface-de:before {
    content: "H";
}

.stateface-fl:before {
    content: "I";
}

.stateface-ga:before {
    content: "J";
}

.stateface-hi:before {
    content: "K";
}

.stateface-ia:before {
    content: "L";
}

.stateface-id:before {
    content: "M";
}

.stateface-il:before {
    content: "N";
}

.stateface-in:before {
    content: "O";
}

.stateface-ks:before {
    content: "P";
}

.stateface-ky:before {
    content: "Q";
}

.stateface-la:before {
    content: "R";
}

.stateface-ma:before {
    content: "S";
}

.stateface-md:before {
    content: "T";
}

.stateface-me:before {
    content: "U";
}

.stateface-mi:before {
    content: "V";
}

.stateface-mn:before {
    content: "W";
}

.stateface-mo:before {
    content: "X";
}

.stateface-ms:before {
    content: "Y";
}

.stateface-mt:before {
    content: "Z";
}

.stateface-nc:before {
    content: "a";
}

.stateface-nd:before {
    content: "b";
}

.stateface-ne:before {
    content: "c";
}

.stateface-nh:before {
    content: "d";
}

.stateface-nj:before {
    content: "e";
}

.stateface-nm:before {
    content: "f";
}

.stateface-nv:before {
    content: "g";
}

.stateface-ny:before {
    content: "h";
}

.stateface-oh:before {
    content: "i";
}

.stateface-ok:before {
    content: "j";
}

.stateface-or:before {
    content: "k";
}

.stateface-pa:before {
    content: "l";
}

.stateface-ri:before {
    content: "m";
}

.stateface-sc:before {
    content: "n";
}

.stateface-sd:before {
    content: "o";
}

.stateface-tn:before {
    content: "p";
}

.stateface-tx:before {
    content: "q";
}

.stateface-us:before {
    content: "z";
}

.stateface-ut:before {
    content: "r";
}

.stateface-va:before {
    content: "s";
}

.stateface-vt:before {
    content: "t";
}

.stateface-wa:before {
    content: "u";
}

.stateface-wi:before {
    content: "v";
}

.stateface-wv:before {
    content: "w";
}

.stateface-wy:before {
    content: "x";
}

.rep {
	color: red;
}
.dem {
	color: blue;
}



.presSpanD {
	background-color: rgba(0,0,0,.2);
	flex-direction: row;
	width: 1080px;
	left: 20px;
	height: 50px;
	position: absolute;
	display: flex;
	top: 20px;
}
.presSpanS {
	background-color: rgba(0,0,0,.2);
	flex-direction: row;
	width: 1080px;
	left: 20px;
	height: 50px;
	position: absolute;
	display: flex;
	top: 70px;
	
}
.presSpanR {
	background-color: rgba(0,0,0,.2);
	flex-direction: row;
	width: 1080px;
	left: 20px;
	height: 50px;
	position: absolute;
	display: flex;
	top: 120px;
	
}
.pres-cell {
	border: 1px solid black;
	text-align: center;
}


 



</style>


</head>
<body>

<span id="pres2016D" class="presSpanD pres2016"></span>
<span id="pres2016S" class="presSpanS pres2016"></span>
<span id="pres2016R" class="presSpanR pres2016"></span>	
<span id="popularVote">50</span>	
	
<script>
var electoralData = [{'abbrev': 'dc', 'votes16': 295553, 'ev10': 3, 'pres08': 0.06599232, 'pres12': 0.07412351, 'pres16': 0.04304812}, {'abbrev': 'hi', 'votes16': 395738, 'ev10': 4, 'pres08': 0.27006274, 'pres12': 0.28296151, 'pres16': 0.32558663}, {'abbrev': 'ca', 'votes16': 13237598, 'ev10': 55, 'pres08': 0.3772155, 'pres12': 0.38127189, 'pres16': 0.33871779}, {'abbrev': 'vt', 'votes16': 273942, 'ev10': 3, 'pres08': 0.31100818, 'pres12': 0.31752741, 'pres16': 0.34813574}, {'abbrev': 'ma', 'votes16': 3086089, 'ev10': 11, 'pres08': 0.36802922, 'pres12': 0.38214319, 'pres16': 0.35348721}, {'abbrev': 'md', 'votes16': 2621097, 'ev10': 10, 'pres08': 0.37069913, 'pres12': 0.36678274, 'pres16': 0.3598375}, {'abbrev': 'ny', 'votes16': 6906931, 'ev10': 29, 'pres08': 0.34236143, 'pres12': 0.33957305, 'pres16': 0.36588494}, {'abbrev': 'il', 'votes16': 5236744, 'ev10': 20, 'pres08': 0.37265736, 'pres12': 0.41422477, 'pres16': 0.40979949}, {'abbrev': 'wa', 'votes16': 2964465, 'ev10': 12, 'pres08': 0.41247973, 'pres12': 0.42371702, 'pres16': 0.41213069}, {'abbrev': 'ri', 'votes16': 433068, 'ev10': 4, 'pres08': 0.35801862, 'pres12': 0.35983254, 'pres16': 0.41689296}, {'abbrev': 'nj', 'votes16': 3750211, 'ev10': 14, 'pres08': 0.4213537, 'pres12': 0.41048034, 'pres16': 0.4271581}, {'abbrev': 'ct', 'votes16': 1570787, 'ev10': 7, 'pres08': 0.38681662, 'pres12': 0.41227423, 'pres16': 0.42858452}, {'abbrev': 'or', 'votes16': 1784509, 'ev10': 7, 'pres08': 0.41586279, 'pres12': 0.43728833, 'pres16': 0.43844161}, {'abbrev': 'de', 'votes16': 420730, 'ev10': 3, 'pres08': 0.37361861, 'pres12': 0.40553045, 'pres16': 0.44001379}, {'abbrev': 'nm', 'votes16': 704901, 'ev10': 5, 'pres08': 0.423351, 'pres12': 0.44704795, 'pres16': 0.45349205}, {'abbrev': 'va', 'votes16': 3750916, 'ev10': 13, 'pres08': 0.46817416, 'pres12': 0.48032623, 'pres16': 0.47173624}, {'abbrev': 'co', 'votes16': 2541354, 'ev10': 9, 'pres08': 0.45449365, 'pres12': 0.47252012, 'pres16': 0.47316667}, {'abbrev': 'me', 'votes16': 693328, 'ev10': 4, 'pres08': 0.41170475, 'pres12': 0.42140079, 'pres16': 0.48403209}, {'abbrev': 'nv', 'votes16': 1051318, 'ev10': 6, 'pres08': 0.43613262, 'pres12': 0.46592458, 'pres16': 0.48706291}, {'abbrev': 'mn', 'votes16': 2690654, 'ev10': 10, 'pres08': 0.44770625, 'pres12': 0.46058774, 'pres16': 0.49168306}, {'abbrev': 'nh', 'votes16': 694316, 'ev10': 4, 'pres08': 0.45131459, 'pres12': 0.47166248, 'pres16': 0.49802972}, {'abbrev': 'mi', 'votes16': 4548382, 'ev10': 16, 'pres08': 0.41628698, 'pres12': 0.45199468, 'pres16': 0.50117668}, {'abbrev': 'pa', 'votes16': 5897174, 'ev10': 20, 'pres08': 0.44770296, 'pres12': 0.47268066, 'pres16': 0.50375536}, {'abbrev': 'wi', 'votes16': 2787820, 'ev10': 10, 'pres08': 0.42944322, 'pres12': 0.4653657, 'pres16': 0.50407989}, {'abbrev': 'fl', 'votes16': 9122861, 'ev10': 29, 'pres08': 0.4858034, 'pres12': 0.49557748, 'pres16': 0.50618835}, {'abbrev': 'az', 'votes16': 2413568, 'ev10': 11, 'pres08': 0.54313901, 'pres12': 0.5461338, 'pres16': 0.51890023}, {'abbrev': 'nc', 'votes16': 4551947, 'ev10': 15, 'pres08': 0.49834037, 'pres12': 0.51034035, 'pres16': 0.51903746}, {'abbrev': 'ga', 'votes16': 3967067, 'ev10': 16, 'pres08': 0.52628336, 'pres12': 0.53956649, 'pres16': 0.52661173}, {'abbrev': 'oh', 'votes16': 5235169, 'ev10': 18, 'pres08': 0.47666159, 'pres12': 0.48485943, 'pres16': 0.54267685}, {'abbrev': 'tx', 'votes16': 8562915, 'ev10': 38, 'pres08': 0.55935937, 'pres12': 0.58007897, 'pres16': 0.54713226}, {'abbrev': 'ia', 'votes16': 1454652, 'ev10': 6, 'pres08': 0.45151222, 'pres12': 0.47040648, 'pres16': 0.55063548}, {'abbrev': 'sc', 'votes16': 2010762, 'ev10': 9, 'pres08': 0.54544429, 'pres12': 0.55308255, 'pres16': 0.57460256}, {'abbrev': 'ak', 'votes16': 279841, 'ev10': 3, 'pres08': 0.61064785, 'pres12': 0.5731529, 'pres16': 0.58385655}, {'abbrev': 'ms', 'votes16': 1185845, 'ev10': 6, 'pres08': 0.56641931, 'pres12': 0.55801899, 'pres16': 0.59089847}, {'abbrev': 'mo', 'votes16': 2665579, 'ev10': 10, 'pres08': 0.50067579, 'pres12': 0.54778667, 'pres16': 0.59818561}, {'abbrev': 'in', 'votes16': 2590412, 'ev10': 11, 'pres08': 0.49478047, 'pres12': 0.55200375, 'pres16': 0.6011731}, {'abbrev': 'la', 'votes16': 1958792, 'ev10': 8, 'pres08': 0.59457174, 'pres12': 0.58746826, 'pres16': 0.60171677}, {'abbrev': 'mt', 'votes16': 456949, 'ev10': 3, 'pres08': 0.51169403, 'pres12': 0.57034232, 'pres16': 0.61109664}, {'abbrev': 'ks', 'votes16': 1098023, 'ev10': 6, 'pres08': 0.57612276, 'pres12': 0.61113327, 'pres16': 0.6111147}, {'abbrev': 'ut', 'votes16': 825885, 'ev10': 6, 'pres08': 0.64526361, 'pres12': 0.74626189, 'pres16': 0.62382898}, {'abbrev': 'ne', 'votes16': 780455, 'ev10': 5, 'pres08': 0.57609074, 'pres12': 0.6112939, 'pres16': 0.63547674}, {'abbrev': 'tn', 'votes16': 2393620, 'ev10': 11, 'pres08': 0.57631472, 'pres12': 0.60351072, 'pres16': 0.63624343}, {'abbrev': 'ar', 'votes16': 1065366, 'ev10': 6, 'pres08': 0.60171721, 'pres12': 0.62154405, 'pres16': 0.64285138}, {'abbrev': 'al', 'votes16': 2047802, 'ev10': 9, 'pres08': 0.60890903, 'pres12': 0.61216229, 'pres16': 0.64374144}, {'abbrev': 'ky', 'votes16': 1831825, 'ev10': 8, 'pres08': 0.58233428, 'pres12': 0.61542772, 'pres16': 0.65670629}, {'abbrev': 'sd', 'votes16': 345179, 'ev10': 3, 'pres08': 0.54295707, 'pres12': 0.59218499, 'pres16': 0.65971858}, {'abbrev': 'id', 'votes16': 598820, 'ev10': 4, 'pres08': 0.6302459, 'pres12': 0.66421387, 'pres16': 0.68310177}, {'abbrev': 'ok', 'votes16': 1369511, 'ev10': 7, 'pres08': 0.65645081, 'pres12': 0.6677232, 'pres16': 0.69304737}, {'abbrev': 'nd', 'votes16': 310552, 'ev10': 3, 'pres08': 0.54408656, 'pres12': 0.60111208, 'pres16': 0.69809243}, {'abbrev': 'wv', 'votes16': 678165, 'ev10': 5, 'pres08': 0.56673744, 'pres12': 0.63674298, 'pres16': 0.72161052}, {'abbrev': 'wy', 'votes16': 230392, 'ev10': 3, 'pres08': 0.66562023, 'pres12': 0.71160634, 'pres16': 0.7570532}];


function orderStates() {
	var totalEV = 0;
	var totalHV = 0;
	var demwidth = 0;
	var swingwidth = 0;
	var demVote = 0;
	var repVote = 0;
	for (var i=0;i<electoralData.length;i++) {
		for (var myYear=2016;myYear<2017;myYear+=2) {
			totalEV += parseInt(electoralData[i]['ev10']);
			totalHV += parseInt(electoralData[i]['ev10'])-2;
			repVote += parseInt(electoralData[i]['votes16'])*(electoralData[i]['pres16']);
			demVote += parseInt(electoralData[i]['votes16'])*(1-(electoralData[i]['pres16']));
			var presyear = electoralData[i]['pres08'];
			if (myYear > 2011){
				presyear = electoralData[i]['pres12'];
			}
			if (myYear > 2015){
				presyear = electoralData[i]['pres16'];
			}
		
			if (totalEV > 360) {
				var newspan = document.createElement("span");
				newspan.classList.add("pres-cell");
				newspan.classList.add("stateface");
				newspan.classList.add("stateface-replace");
	
				newspan.classList.add("stateface-"+electoralData[i]['abbrev']);
				if (presyear>=.5) {newspan.classList.add("rep");}
				else {newspan.classList.add("dem");}
			

				newspan.style.order = parseInt(presyear*1000);
				newspan.style.flex = parseInt(electoralData[i]['ev10']);
			
				var myel = document.getElementById('pres2016R');
				myel.appendChild(newspan);
				if (totalEV - parseInt(electoralData[i]['ev10']) <= 360 ) {
					myel.style.width = (6 * (538 - (totalEV - parseInt(electoralData[i]['ev10']))))+'px';
					document.getElementById('pres2016S').style.width = (6 * ((totalEV - parseInt(electoralData[i]['ev10'])) - demwidth))+'px';
				}
		
			}
			else if (totalEV > 180) {
				var newspan = document.createElement("span");
				newspan.classList.add("pres-cell");
				newspan.classList.add("stateface");
				newspan.classList.add("stateface-replace");
	
				newspan.classList.add("stateface-"+electoralData[i]['abbrev']);
				if (presyear>=.5) {newspan.classList.add("rep");}
				else {newspan.classList.add("dem");}
			

				newspan.style.order = parseInt(presyear*1000);
				newspan.style.flex = parseInt(electoralData[i]['ev10']);
			
			
				if (totalEV - parseInt(electoralData[i]['ev10']) <= 180 ) {
					demwidth = totalEV - parseInt(electoralData[i]['ev10']);
					document.getElementById('pres2016D').style.width = (6 * demwidth) +'px';
				}
				if (totalEV - parseInt(electoralData[i]['ev10']) < 270 ) {
					if (totalEV >= 270 ) {
						newspan.style.backgroundColor = 'white';
					}
				}
				if (totalHV - parseInt(electoralData[i]['ev10']) < 219 ) {
					if (totalHV >= 219 ) {
						newspan.style.backgroundColor = 'black';
					}
				}
				var myel = document.getElementById('pres2016S');
				myel.appendChild(newspan);
		
			}
			else {
				var newspan = document.createElement("span");
				newspan.classList.add("pres-cell");
				newspan.classList.add("stateface");
				newspan.classList.add("stateface-replace");
	
				newspan.classList.add("stateface-"+electoralData[i]['abbrev']);
				if (presyear>=.5) {newspan.classList.add("rep");}
				else {newspan.classList.add("dem");}
			

				newspan.style.order = parseInt(presyear*1000);
				newspan.style.flex = parseInt(electoralData[i]['ev10']);
			
				var myel = document.getElementById('pres2016D');
				myel.appendChild(newspan);
		
			}


		}
	}
	document.getElementById('popularVote').textContent = parseInt(1000*demVote/(demVote+repVote))/10+'%';
}
orderStates();
</script>
</body>

	</html>





